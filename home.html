<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BIGWIN</title>
    <link rel="stylesheet" href="demo.css" />
  </head>
  <body>
    <h1>BIGWIN</h1>
    <div id="balance" class="balance">
      Balance: <span id="balanceAmount">Rs 00.00</span>
    </div>

    <div class="button-container">
      <button class="button" onclick="window.location.href='withdraw.html'">
        Withdraw
      </button>
      <button class="button" onclick="openProfileModal()">Profile</button>
      <button class="button" onclick="openProfileModal()">Invite</button>
    </div>
   
    <div id="profile-modal" class="modal">
      <div class="modal-content">
        <p>You should complete Level 7 to access your profile.</p>
        <button class="close-button" onclick="closeProfile()">Close</button>
      </div>
    </div>

    <!-- Level 1 -->
    <div class="container" id="level-1">
      <h2>Level 1</h2>
      <p>Amount: free</p>
      <p>Duration: 1 hour</p>
      <p>Win Amount: Rs 20</p>
      <input
        id="input-1"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(1, 1800, 20)">Start</button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-1"></div>
      <div class="timer" id="timer1"></div>
    </div>

    <!-- Level 2 -->
    <div class="container" id="level-2">
      <h2>Level 2</h2>
      <p>Amount: 10</p>
      <p>Duration: 1 hour</p>
      <p>Win Amount: Rs 30</p>
      <input
        id="input-2"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(2,2400, 30)">Start</button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-2"></div>
      <div class="timer" id="timer2"></div>
    </div>

    <!-- Level 3 -->
    <div class="container" id="level-3">
      <h2>Level 3</h2>
      <p>Amount: Rs 999</p>
      <p>Duration: 1 hour</p>
      <p>Win Amount: Rs 1199</p>
      <input
        id="input-3"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(3, 3600, 1199)">
          Start
        </button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-3"></div>
      <div class="timer" id="timer3"></div>
    </div>

    <!-- Level 4 -->
    <div class="container" id="level-4">
      <h2>Level 4</h2>
      <p>Amount: Rs 2499 (Invest to play)</p>
      <p>Duration: 1 hour OFFER</p>
      <p>Win Amount: Rs 3999</p>
      <input
        id="input-4"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(4, 3600, 3999)">
          Start
        </button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-4"></div>
      <div class="timer" id="timer4"></div>
    </div>

    <!-- Level 5 -->
    <div class="container" id="level-5">
      <h2>Level 5</h2>
      <p>Amount: Rs 2999 OFFER</p>
      <p>Duration: 1 hour</p>
      <p>Win Amount: Rs 4500</p>
      <input
        id="input-5"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(5, 3600, 3500)">
          Start
        </button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-5"></div>
      <div class="timer" id="timer5"></div>
    </div>

    <!-- Level 6 -->
    <div class="container" id="level-6">
      <h2>Level 6</h2>
      <p>Amount: Rs 3333</p>
      <p>Duration: 1 hour OFFER</p>
      <p>Win Amount: Rs 5555</p>
      <input
        id="input-6"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(6, 3600, 5555)">
          Start
        </button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-6"></div>
      <div class="timer" id="timer6"></div>
    </div>

    <!-- Level 7 -->
    <div class="container" id="level-7">
      <h2>Level 7</h2>
      <p>Amount: Rs 5000</p>
      <p>Duration: 1 hour</p>
      <p>Win Amount: Rs 10000</p>
      <input
        id="input-7"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(7, 3600, 10000)">
          Start
        </button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-7"></div>
      <div class="timer" id="timer7"></div>
    </div>

    <!-- Level 8 -->
    <div class="container" id="level-8">
      <h2>Level 8</h2>
      <p>Amount: Rs 10000</p>
      <p>Duration: 1 hour</p>
      <p>Win Amount: Rs 20000</p>
      <input
        id="input-8"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(8, 3600, 20000)">
          Start
        </button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-8"></div>
      <div class="timer" id="timer8"></div>
    </div>

    <!-- Level 9 -->
    <div class="container" id="level-9">
      <h2>Level 9</h2>
      <p>Amount: Rs 20000</p>
      <p>Duration: 1 hour</p>
      <p>Win Amount: Rs 40000</p>
      <input
        id="input-9"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(9, 3600, 40000)">
          Start
        </button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-9"></div>
      <div class="timer" id="timer9"></div>
    </div>

    <!-- Level 10 -->
    <div class="container" id="level-10">
      <h2>Level 10</h2>
      <p>Amount: Rs 33333</p>
      <p>Duration: 1 hour</p>
      <p>Win Amount: Rs 66666</p>
      <input
        id="input-10"
        class="input-code"
        type="text"
        placeholder="Enter 5-digit code after payment"
      />
      <div class="button-container">
        <button class="button" onclick="verifyCode(10, 3600, 66666)">
          Start
        </button>
        <button class="button" onclick="window.location.href='deposit.html'">
          Buy
        </button>
      </div>
      <div class="error" id="error-10"></div>
      <div class="timer" id="timer10"></div>
    </div>
  </body>
  <script>
    // Function to set a cookie with a specific expiry
    function setCookie(name, value, days) {
      const date = new Date();
      date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000); // Expiry in milliseconds
      document.cookie = `${name}=${encodeURIComponent(
        value
      )};expires=${date.toUTCString()};path=/`;
    }

    // Function to get a cookie by name
    function getCookie(name) {
      const cookies = document.cookie.split(";");
      for (let i = 0; i < cookies.length; i++) {
        const cookie = cookies[i].trim();
        if (cookie.startsWith(`${name}=`)) {
          return decodeURIComponent(cookie.substring(name.length + 1));
        }
      }
      return null;
    }

    // Update the wallet balance
    function updateBalance(amount) {
      let currentBalance = parseFloat(getCookie("balance")) || 0;
      currentBalance += amount;
      setCookie("balance", currentBalance.toFixed(2), 365);
      document.getElementById(
        "balanceAmount"
      ).textContent = `Rs ${currentBalance.toFixed(2)}`;
    }

    // Start a timer for a level
    function startTimer(level, duration, winAmount) {
      let timer = duration;
      const timerId = `timer${level}`;
      const element = document.getElementById(timerId);

      element.style.display = "block";
      const interval = setInterval(() => {
        const minutes = Math.floor(timer / 60);
        const seconds = timer % 60;
        element.innerHTML = `${minutes < 10 ? "0" : ""}${minutes}:${
          seconds < 10 ? "0" : ""
        }${seconds}`;
        timer--;

        setCookie(`timer_${level}`, timer, 365);

        if (timer < 0) {
          clearInterval(interval);
          element.innerHTML = "LEVEL COMPLETED";
          setCookie(`timer_${level}`, "", -1);
          updateBalance(winAmount);
          markLevelComplete(level);
        }
      }, 1000);
    }

    // Mark a level as completed
    function markLevelComplete(level) {
      const container = document.getElementById(`level-${level}`);
      container.style.pointerEvents = "none";
      container.style.filter = "grayscale(100%)";
      container.style.opacity = "0.8";
      setCookie(`level${level}Used`, "true", 365);
      const levelCompleteMessage = document.createElement("div");
      levelCompleteMessage.textContent = "LEVEL COMPLETED";
      levelCompleteMessage.style.position = "absolute";
      levelCompleteMessage.style.top = "50%";
      levelCompleteMessage.style.left = "50%";
      levelCompleteMessage.style.transform = "translate(-50%, -50%)";
      levelCompleteMessage.style.backgroundColor = "#000";
      levelCompleteMessage.style.color = "#fff";
      levelCompleteMessage.style.padding = "10px 20px";
      levelCompleteMessage.style.fontSize = "18px";
      levelCompleteMessage.style.fontWeight = "bold";
      levelCompleteMessage.style.borderRadius = "5px";
      container.appendChild(levelCompleteMessage);
    }

    // Verify the entered code for a level
    function verifyCode(level, duration, winAmount) {
      const input = document.getElementById(`input-${level}`);
      const errorMsg = document.getElementById(`error-${level}`);

      // Unique five-digit codes for each level
      const correctCodes = {
        1: "543&&",  
        2: "9876&",
        3: "13579",
        4: "24680",
        5: "11223",
        6: "&5667",
        7: "33445",
        8: "77889",
        9: "99001",
        10: "12345",
      };

      // Check if the level is already completed
      if (getCookie(`level${level}Used`) === "true") {
        errorMsg.textContent = "Level already completed!";
        return;
      }

      // Verify the code
      if (input.value === correctCodes[level]) {
        errorMsg.textContent = "";
        const savedTimer = getCookie(`timer_${level}`);
        if (savedTimer && !isNaN(savedTimer) && savedTimer > 0) {
          startTimer(level, parseInt(savedTimer), winAmount);
        } else {
          startTimer(level, duration, winAmount);
        }
      } else {
        errorMsg.textContent = "Enter correct code";
      }
    }

    // Initialize wallet balance and daily bonus
    function initialize() {
      const walletBalance = parseInt(getCookie("balance") || "0", 10);
      document.getElementById("balanceAmount").textContent = walletBalance;
    }

    // Claim daily bonus logic
    function claimDailyBonus() {
      const lastClaimTime = getCookie("lastClaimTime");
      const currentTime = new Date().getTime();
      const oneDay = 24 * 60 * 60 * 1000;

      if (
        !lastClaimTime ||
        currentTime - parseInt(lastClaimTime, 10) >= oneDay
      ) {
        // Add ₹10 to the wallet balance
        const currentBalance = parseInt(getCookie("balance") || "0", 10);
        const newBalance = currentBalance + 10;
        setCookie("balance", newBalance, 365);
        setCookie("lastClaimTime", currentTime, 365);

        // Update UI
        document.getElementById("balanceAmount").textContent = newBalance;
        document.getElementById("bonus-messages").textContent =
          "₹10 added to your wallet!";
        document.getElementById("claim-bonus").classList.add("clicked");
      } else {
        document.getElementById("bonus-messages").textContent =
          "You can only claim once per day!";
      }
    }

    // Open the modal
    function openProfileModal() {
      const modal = document.getElementById("profile-modal");
      modal.style.display = "block";
    }

    // Close the modal
    function closeProfile() {
      const modal = document.getElementById("profile-modal");
      modal.style.display = "none";
    }

    // Close the modal when clicking outside the content
    window.onclick = function (event) {
      const modal = document.getElementById("profile-modal");
      if (event.target === modal) {
        modal.style.display = "none";
      }
    };

    // Initialize levels and timers on page load
    window.onload = () => {
      const levels = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
      levels.forEach((level) => {
        const timerId = `timer${level}`;
        const savedTimer = getCookie(`timer_${level}`);
        if (savedTimer && !isNaN(savedTimer) && savedTimer > 0) {
          const timerElement = document.getElementById(timerId);
          timerElement.style.display = "block";
          startTimer(
            level,
            parseInt(savedTimer),
            level === 10
              ? 100000
              : level === 9
              ? 50000
              : level === 8
              ? 10000
              : level === 7
              ? 5000
              : level === 6
              ? 5555
              : level === 4
              ? 4500
              : level === 3
              ? 1199
              : level === 2
              ? 30
              : 20
          );
        } else {
          const timerElement = document.getElementById(timerId);
          if (timerElement) {
            timerElement.style.display = "none";
            timerElement.innerHTML = "";
          }
        }

        if (getCookie(`level${level}Used`) === "true") {
          markLevelComplete(level);
        }
      });

      const savedBalance = getCookie("balance");
      if (savedBalance) {
        document.getElementById(
          "balanceAmount"
        ).textContent = `Rs ${savedBalance}`;
      } else {
        updateBalance(0);
      }
    };

    // Initialize wallet on page load
    initialize();
  </script>
</html>
